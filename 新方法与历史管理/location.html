<!DOCTYPE html>
<html>

<head>
    <meta charset='UTF-8'>
    <title>location</title>
    <meta name='keywords' content='' />
    <meta name='description' content='' />
    <style>
        body{
            -moz-user-select:none;/*火狐*/
            -webkit-user-select:none;/*webkit浏览器*/
            -ms-user-select:none;/*IE10*/
            -khtml-user-select:none;/*早期浏览器*/
            user-select:none;
        }
        .box {
            width: 200px;
            line-height: 50px;
            text-align: center;
            border: 1px solid red;
            cursor: pointer;
        }
    </style>
</head>

<body>
    <div class="box">点击</div>
    <p class="show"></p>

    <script type='text/javascript'>
        var oBox = document.querySelector('.box'),
            oShow = document.querySelector('.show');
    
        oBox.onclick = function(){
            window.location.hash = random();
            oShow.innerHTML = window.location.hash.substring(1)
        }
        // 注意是 window 而不是 document
        window.onhashchange = function(){
            console.log('1');
            oShow.innerHTML = window.location.hash.substring(1)
        }

        function random() {
            var a = Math.random() * 99 + 1;
            a < 10 ? a = "0" + a: a;
            return a;
        }
    </script>
</body>

</html>